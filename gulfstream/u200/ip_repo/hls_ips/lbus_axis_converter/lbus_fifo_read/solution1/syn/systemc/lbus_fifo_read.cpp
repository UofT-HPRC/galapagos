// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC
// Version: 2019.1
// Copyright (C) 1986-2019 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

#include "lbus_fifo_read.h"
#include "AESL_pkg.h"

using namespace std;

namespace ap_rtl {

const sc_logic lbus_fifo_read::ap_const_logic_1 = sc_dt::Log_1;
const sc_lv<1> lbus_fifo_read::ap_ST_fsm_state1 = "1";
const sc_lv<512> lbus_fifo_read::ap_const_lv512_lc_1 = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
const sc_lv<16> lbus_fifo_read::ap_const_lv16_0 = "0000000000000000";
const sc_lv<1> lbus_fifo_read::ap_const_lv1_0 = "0";
const sc_lv<128> lbus_fifo_read::ap_const_lv128_lc_1 = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
const sc_lv<4> lbus_fifo_read::ap_const_lv4_0 = "0000";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_0 = "00000000000000000000000000000000";
const sc_lv<1> lbus_fifo_read::ap_const_lv1_1 = "1";
const sc_lv<16> lbus_fifo_read::ap_const_lv16_FFFF = "1111111111111111";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_80 = "10000000";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_82 = "10000010";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_84 = "10000100";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_87 = "10000111";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_88 = "10001000";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_107 = "100000111";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_108 = "100001000";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_10A = "100001010";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_10C = "100001100";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_10F = "100001111";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_110 = "100010000";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_18F = "110001111";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_190 = "110010000";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_192 = "110010010";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_194 = "110010100";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_197 = "110010111";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_198 = "110011000";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_217 = "1000010111";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_218 = "1000011000";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_21A = "1000011010";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_21C = "1000011100";
const sc_lv<32> lbus_fifo_read::ap_const_lv32_21F = "1000011111";
const sc_logic lbus_fifo_read::ap_const_logic_0 = sc_dt::Log_0;
const bool lbus_fifo_read::ap_const_boolean_1 = true;

lbus_fifo_read::lbus_fifo_read(sc_module_name name) : sc_module(name), mVcdFile(0) {
    call_ret_mty2keep_fu_318 = new mty2keep("call_ret_mty2keep_fu_318");
    call_ret_mty2keep_fu_318->ap_ready(call_ret_mty2keep_fu_318_ap_ready);
    call_ret_mty2keep_fu_318->mty_V(outbuf_mty_V_0);
    call_ret_mty2keep_fu_318->ena_V(outbuf_ena_V_0);
    call_ret_mty2keep_fu_318->ap_return(call_ret_mty2keep_fu_318_ap_return);
    call_ret1_mty2keep_fu_324 = new mty2keep("call_ret1_mty2keep_fu_324");
    call_ret1_mty2keep_fu_324->ap_ready(call_ret1_mty2keep_fu_324_ap_ready);
    call_ret1_mty2keep_fu_324->mty_V(outbuf_mty_V_1);
    call_ret1_mty2keep_fu_324->ena_V(outbuf_ena_V_1);
    call_ret1_mty2keep_fu_324->ap_return(call_ret1_mty2keep_fu_324_ap_return);
    call_ret2_mty2keep_fu_330 = new mty2keep("call_ret2_mty2keep_fu_330");
    call_ret2_mty2keep_fu_330->ap_ready(call_ret2_mty2keep_fu_330_ap_ready);
    call_ret2_mty2keep_fu_330->mty_V(outbuf_mty_V_2);
    call_ret2_mty2keep_fu_330->ena_V(outbuf_ena_V_2);
    call_ret2_mty2keep_fu_330->ap_return(call_ret2_mty2keep_fu_330_ap_return);
    call_ret3_mty2keep_fu_336 = new mty2keep("call_ret3_mty2keep_fu_336");
    call_ret3_mty2keep_fu_336->ap_ready(call_ret3_mty2keep_fu_336_ap_ready);
    call_ret3_mty2keep_fu_336->mty_V(outbuf_mty_V_3);
    call_ret3_mty2keep_fu_336->ena_V(outbuf_ena_V_3);
    call_ret3_mty2keep_fu_336->ap_return(call_ret3_mty2keep_fu_336_ap_return);

    SC_METHOD(thread_ap_clk_no_reset_);
    dont_initialize();
    sensitive << ( ap_clk.pos() );

    SC_METHOD(thread_and_ln133_fu_635_p2);
    sensitive << ( lbus_fifo_valid_V );
    sensitive << ( lbus_fifo_pkt_end_valid_V );

    SC_METHOD(thread_ap_CS_fsm_state1);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_phi_mux_empty_phi_fu_294_p6);
    sensitive << ( lbus_fifo_pkt_end );
    sensitive << ( ap_CS_fsm_state1 );
    sensitive << ( out_pktendbuf_ena_V_1_load_fu_631_p1 );
    sensitive << ( and_ln133_fu_635_p2 );

    SC_METHOD(thread_ap_phi_mux_storemerge482_phi_fu_307_p6);
    sensitive << ( ap_CS_fsm_state1 );
    sensitive << ( out_pktendbuf_ena_V_1_load_fu_631_p1 );
    sensitive << ( and_ln133_fu_635_p2 );

    SC_METHOD(thread_error_V);
    sensitive << ( lbus_fifo_empty_V );
    sensitive << ( lbus_fifo_pkt_end_empty_V );
    sensitive << ( ap_CS_fsm_state1 );

    SC_METHOD(thread_lbus_fifo_pkt_end_re_V);
    sensitive << ( ap_CS_fsm_state1 );
    sensitive << ( xor_ln146_fu_1280_p2 );

    SC_METHOD(thread_lbus_fifo_re_V);
    sensitive << ( ap_CS_fsm_state1 );
    sensitive << ( xor_ln146_fu_1280_p2 );

    SC_METHOD(thread_m_axis_data_V);
    sensitive << ( m_axis_databuf_V );
    sensitive << ( ap_CS_fsm_state1 );

    SC_METHOD(thread_m_axis_keep_V);
    sensitive << ( m_axis_keepbuf_V_0 );
    sensitive << ( ap_CS_fsm_state1 );
    sensitive << ( ret_V_21_fu_370_p2 );
    sensitive << ( ret_V_22_fu_392_p2 );
    sensitive << ( ret_V_23_fu_414_p2 );

    SC_METHOD(thread_m_axis_last_V);
    sensitive << ( m_axis_lastbuf_V );
    sensitive << ( ap_CS_fsm_state1 );

    SC_METHOD(thread_m_axis_valid_V);
    sensitive << ( m_axis_validbuf_V );
    sensitive << ( ap_CS_fsm_state1 );

    SC_METHOD(thread_or_ln146_1_fu_1274_p2);
    sensitive << ( lbus_fifo_empty_V );
    sensitive << ( or_ln146_fu_1268_p2 );

    SC_METHOD(thread_or_ln146_fu_1268_p2);
    sensitive << ( lbus_fifo_pkt_end_empty_V );
    sensitive << ( ap_phi_mux_empty_phi_fu_294_p6 );

    SC_METHOD(thread_out_pktendbuf_ena_V_1_load_fu_631_p1);
    sensitive << ( out_pktendbuf_ena_V_s );
    sensitive << ( ap_CS_fsm_state1 );

    SC_METHOD(thread_p_Result_1_fu_463_p5);
    sensitive << ( outbuf_data_V_3 );
    sensitive << ( outbuf_data_V_2 );
    sensitive << ( outbuf_data_V_1 );
    sensitive << ( outbuf_data_V_0 );

    SC_METHOD(thread_ret_V_20_fu_609_p2);
    sensitive << ( outbuf_eop_V_3 );
    sensitive << ( ret_V_25_fu_587_p2 );

    SC_METHOD(thread_ret_V_21_fu_370_p2);
    sensitive << ( m_axis_keepbuf_V_1 );
    sensitive << ( rhs_V_fu_362_p3 );

    SC_METHOD(thread_ret_V_22_fu_392_p2);
    sensitive << ( m_axis_keepbuf_V_2 );
    sensitive << ( rhs_V_14_fu_384_p3 );

    SC_METHOD(thread_ret_V_23_fu_414_p2);
    sensitive << ( m_axis_keepbuf_V_3 );
    sensitive << ( rhs_V_15_fu_406_p3 );

    SC_METHOD(thread_ret_V_24_fu_565_p2);
    sensitive << ( outbuf_eop_V_0 );
    sensitive << ( outbuf_eop_V_1 );

    SC_METHOD(thread_ret_V_25_fu_587_p2);
    sensitive << ( outbuf_eop_V_2 );
    sensitive << ( ret_V_24_fu_565_p2 );

    SC_METHOD(thread_rhs_V_14_fu_384_p3);
    sensitive << ( keep2mask_V );

    SC_METHOD(thread_rhs_V_15_fu_406_p3);
    sensitive << ( keep3mask_V );

    SC_METHOD(thread_rhs_V_fu_362_p3);
    sensitive << ( keep1mask_V );

    SC_METHOD(thread_trunc_ln321_1_fu_875_p1);
    sensitive << ( lbus_fifo_pkt_end );

    SC_METHOD(thread_trunc_ln321_fu_641_p1);
    sensitive << ( lbus_fifo );

    SC_METHOD(thread_xor_ln113_fu_549_p2);
    sensitive << ( outbuf_eop_V_0 );

    SC_METHOD(thread_xor_ln114_fu_571_p2);
    sensitive << ( ret_V_24_fu_565_p2 );

    SC_METHOD(thread_xor_ln115_fu_593_p2);
    sensitive << ( ret_V_25_fu_587_p2 );

    SC_METHOD(thread_xor_ln146_fu_1280_p2);
    sensitive << ( or_ln146_1_fu_1274_p2 );

    SC_METHOD(thread_ap_NS_fsm);
    sensitive << ( ap_CS_fsm );

    SC_THREAD(thread_hdltv_gen);
    sensitive << ( ap_clk.pos() );

    m_axis_databuf_V = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    m_axis_keepbuf_V_1 = "0000000000000000";
    keep1mask_V = "0";
    m_axis_keepbuf_V_2 = "0000000000000000";
    keep2mask_V = "0";
    m_axis_keepbuf_V_3 = "0000000000000000";
    keep3mask_V = "0";
    m_axis_keepbuf_V_0 = "0000000000000000";
    m_axis_lastbuf_V = "0";
    m_axis_validbuf_V = "0";
    outbuf_data_V_3 = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    outbuf_data_V_2 = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    outbuf_data_V_1 = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    outbuf_data_V_0 = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    outbuf_mty_V_0 = "0000";
    outbuf_ena_V_0 = "0";
    outbuf_mty_V_1 = "0000";
    outbuf_ena_V_1 = "0";
    outbuf_mty_V_2 = "0000";
    outbuf_ena_V_2 = "0";
    outbuf_mty_V_3 = "0000";
    outbuf_ena_V_3 = "0";
    outbuf_eop_V_0 = "0";
    outbuf_eop_V_1 = "0";
    outbuf_eop_V_2 = "0";
    outbuf_eop_V_3 = "0";
    output_valid_V = "0";
    out_pktendbuf_ena_V_s = "0";
    out_pktendbuf_data_V = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    out_pktendbuf_eop_V_s = "0";
    out_pktendbuf_mty_V_s = "0000";
    out_pktendbuf_data_V_1 = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    out_pktendbuf_ena_V_1 = "0";
    out_pktendbuf_eop_V_1 = "0";
    out_pktendbuf_mty_V_1 = "0000";
    out_pktendbuf_data_V_2 = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    out_pktendbuf_ena_V_2 = "0";
    out_pktendbuf_eop_V_2 = "0";
    out_pktendbuf_mty_V_2 = "0000";
    ap_CS_fsm = "1";
    static int apTFileNum = 0;
    stringstream apTFilenSS;
    apTFilenSS << "lbus_fifo_read_sc_trace_" << apTFileNum ++;
    string apTFn = apTFilenSS.str();
    mVcdFile = sc_create_vcd_trace_file(apTFn.c_str());
    mVcdFile->set_time_unit(1, SC_PS);
    if (1) {
#ifdef __HLS_TRACE_LEVEL_PORT__
    sc_trace(mVcdFile, ap_clk, "(port)ap_clk");
    sc_trace(mVcdFile, ap_rst, "(port)ap_rst");
    sc_trace(mVcdFile, lbus_fifo, "(port)lbus_fifo");
    sc_trace(mVcdFile, lbus_fifo_pkt_end, "(port)lbus_fifo_pkt_end");
    sc_trace(mVcdFile, lbus_fifo_empty_V, "(port)lbus_fifo_empty_V");
    sc_trace(mVcdFile, lbus_fifo_pkt_end_empty_V, "(port)lbus_fifo_pkt_end_empty_V");
    sc_trace(mVcdFile, lbus_fifo_valid_V, "(port)lbus_fifo_valid_V");
    sc_trace(mVcdFile, lbus_fifo_pkt_end_valid_V, "(port)lbus_fifo_pkt_end_valid_V");
    sc_trace(mVcdFile, lbus_fifo_re_V, "(port)lbus_fifo_re_V");
    sc_trace(mVcdFile, lbus_fifo_pkt_end_re_V, "(port)lbus_fifo_pkt_end_re_V");
    sc_trace(mVcdFile, error_V, "(port)error_V");
    sc_trace(mVcdFile, m_axis_data_V, "(port)m_axis_data_V");
    sc_trace(mVcdFile, m_axis_keep_V, "(port)m_axis_keep_V");
    sc_trace(mVcdFile, m_axis_last_V, "(port)m_axis_last_V");
    sc_trace(mVcdFile, m_axis_valid_V, "(port)m_axis_valid_V");
#endif
#ifdef __HLS_TRACE_LEVEL_INT__
    sc_trace(mVcdFile, m_axis_databuf_V, "m_axis_databuf_V");
    sc_trace(mVcdFile, m_axis_keepbuf_V_1, "m_axis_keepbuf_V_1");
    sc_trace(mVcdFile, keep1mask_V, "keep1mask_V");
    sc_trace(mVcdFile, m_axis_keepbuf_V_2, "m_axis_keepbuf_V_2");
    sc_trace(mVcdFile, keep2mask_V, "keep2mask_V");
    sc_trace(mVcdFile, m_axis_keepbuf_V_3, "m_axis_keepbuf_V_3");
    sc_trace(mVcdFile, keep3mask_V, "keep3mask_V");
    sc_trace(mVcdFile, m_axis_keepbuf_V_0, "m_axis_keepbuf_V_0");
    sc_trace(mVcdFile, m_axis_lastbuf_V, "m_axis_lastbuf_V");
    sc_trace(mVcdFile, m_axis_validbuf_V, "m_axis_validbuf_V");
    sc_trace(mVcdFile, outbuf_data_V_3, "outbuf_data_V_3");
    sc_trace(mVcdFile, outbuf_data_V_2, "outbuf_data_V_2");
    sc_trace(mVcdFile, outbuf_data_V_1, "outbuf_data_V_1");
    sc_trace(mVcdFile, outbuf_data_V_0, "outbuf_data_V_0");
    sc_trace(mVcdFile, outbuf_mty_V_0, "outbuf_mty_V_0");
    sc_trace(mVcdFile, outbuf_ena_V_0, "outbuf_ena_V_0");
    sc_trace(mVcdFile, outbuf_mty_V_1, "outbuf_mty_V_1");
    sc_trace(mVcdFile, outbuf_ena_V_1, "outbuf_ena_V_1");
    sc_trace(mVcdFile, outbuf_mty_V_2, "outbuf_mty_V_2");
    sc_trace(mVcdFile, outbuf_ena_V_2, "outbuf_ena_V_2");
    sc_trace(mVcdFile, outbuf_mty_V_3, "outbuf_mty_V_3");
    sc_trace(mVcdFile, outbuf_ena_V_3, "outbuf_ena_V_3");
    sc_trace(mVcdFile, outbuf_eop_V_0, "outbuf_eop_V_0");
    sc_trace(mVcdFile, outbuf_eop_V_1, "outbuf_eop_V_1");
    sc_trace(mVcdFile, outbuf_eop_V_2, "outbuf_eop_V_2");
    sc_trace(mVcdFile, outbuf_eop_V_3, "outbuf_eop_V_3");
    sc_trace(mVcdFile, output_valid_V, "output_valid_V");
    sc_trace(mVcdFile, out_pktendbuf_ena_V_s, "out_pktendbuf_ena_V_s");
    sc_trace(mVcdFile, out_pktendbuf_data_V, "out_pktendbuf_data_V");
    sc_trace(mVcdFile, out_pktendbuf_eop_V_s, "out_pktendbuf_eop_V_s");
    sc_trace(mVcdFile, out_pktendbuf_mty_V_s, "out_pktendbuf_mty_V_s");
    sc_trace(mVcdFile, out_pktendbuf_data_V_1, "out_pktendbuf_data_V_1");
    sc_trace(mVcdFile, out_pktendbuf_ena_V_1, "out_pktendbuf_ena_V_1");
    sc_trace(mVcdFile, out_pktendbuf_eop_V_1, "out_pktendbuf_eop_V_1");
    sc_trace(mVcdFile, out_pktendbuf_mty_V_1, "out_pktendbuf_mty_V_1");
    sc_trace(mVcdFile, out_pktendbuf_data_V_2, "out_pktendbuf_data_V_2");
    sc_trace(mVcdFile, out_pktendbuf_ena_V_2, "out_pktendbuf_ena_V_2");
    sc_trace(mVcdFile, out_pktendbuf_eop_V_2, "out_pktendbuf_eop_V_2");
    sc_trace(mVcdFile, out_pktendbuf_mty_V_2, "out_pktendbuf_mty_V_2");
    sc_trace(mVcdFile, call_ret_mty2keep_fu_318_ap_ready, "call_ret_mty2keep_fu_318_ap_ready");
    sc_trace(mVcdFile, call_ret_mty2keep_fu_318_ap_return, "call_ret_mty2keep_fu_318_ap_return");
    sc_trace(mVcdFile, call_ret1_mty2keep_fu_324_ap_ready, "call_ret1_mty2keep_fu_324_ap_ready");
    sc_trace(mVcdFile, call_ret1_mty2keep_fu_324_ap_return, "call_ret1_mty2keep_fu_324_ap_return");
    sc_trace(mVcdFile, call_ret2_mty2keep_fu_330_ap_ready, "call_ret2_mty2keep_fu_330_ap_ready");
    sc_trace(mVcdFile, call_ret2_mty2keep_fu_330_ap_return, "call_ret2_mty2keep_fu_330_ap_return");
    sc_trace(mVcdFile, call_ret3_mty2keep_fu_336_ap_ready, "call_ret3_mty2keep_fu_336_ap_ready");
    sc_trace(mVcdFile, call_ret3_mty2keep_fu_336_ap_return, "call_ret3_mty2keep_fu_336_ap_return");
    sc_trace(mVcdFile, ap_phi_mux_empty_phi_fu_294_p6, "ap_phi_mux_empty_phi_fu_294_p6");
    sc_trace(mVcdFile, ap_CS_fsm, "ap_CS_fsm");
    sc_trace(mVcdFile, ap_CS_fsm_state1, "ap_CS_fsm_state1");
    sc_trace(mVcdFile, out_pktendbuf_ena_V_1_load_fu_631_p1, "out_pktendbuf_ena_V_1_load_fu_631_p1");
    sc_trace(mVcdFile, and_ln133_fu_635_p2, "and_ln133_fu_635_p2");
    sc_trace(mVcdFile, ap_phi_mux_storemerge482_phi_fu_307_p6, "ap_phi_mux_storemerge482_phi_fu_307_p6");
    sc_trace(mVcdFile, p_Result_1_fu_463_p5, "p_Result_1_fu_463_p5");
    sc_trace(mVcdFile, xor_ln113_fu_549_p2, "xor_ln113_fu_549_p2");
    sc_trace(mVcdFile, xor_ln114_fu_571_p2, "xor_ln114_fu_571_p2");
    sc_trace(mVcdFile, xor_ln115_fu_593_p2, "xor_ln115_fu_593_p2");
    sc_trace(mVcdFile, ret_V_20_fu_609_p2, "ret_V_20_fu_609_p2");
    sc_trace(mVcdFile, trunc_ln321_fu_641_p1, "trunc_ln321_fu_641_p1");
    sc_trace(mVcdFile, trunc_ln321_1_fu_875_p1, "trunc_ln321_1_fu_875_p1");
    sc_trace(mVcdFile, xor_ln146_fu_1280_p2, "xor_ln146_fu_1280_p2");
    sc_trace(mVcdFile, rhs_V_fu_362_p3, "rhs_V_fu_362_p3");
    sc_trace(mVcdFile, rhs_V_14_fu_384_p3, "rhs_V_14_fu_384_p3");
    sc_trace(mVcdFile, rhs_V_15_fu_406_p3, "rhs_V_15_fu_406_p3");
    sc_trace(mVcdFile, ret_V_21_fu_370_p2, "ret_V_21_fu_370_p2");
    sc_trace(mVcdFile, ret_V_22_fu_392_p2, "ret_V_22_fu_392_p2");
    sc_trace(mVcdFile, ret_V_23_fu_414_p2, "ret_V_23_fu_414_p2");
    sc_trace(mVcdFile, ret_V_24_fu_565_p2, "ret_V_24_fu_565_p2");
    sc_trace(mVcdFile, ret_V_25_fu_587_p2, "ret_V_25_fu_587_p2");
    sc_trace(mVcdFile, or_ln146_fu_1268_p2, "or_ln146_fu_1268_p2");
    sc_trace(mVcdFile, or_ln146_1_fu_1274_p2, "or_ln146_1_fu_1274_p2");
    sc_trace(mVcdFile, ap_NS_fsm, "ap_NS_fsm");
#endif

    }
    mHdltvinHandle.open("lbus_fifo_read.hdltvin.dat");
    mHdltvoutHandle.open("lbus_fifo_read.hdltvout.dat");
}

lbus_fifo_read::~lbus_fifo_read() {
    if (mVcdFile) 
        sc_close_vcd_trace_file(mVcdFile);

    mHdltvinHandle << "] " << endl;
    mHdltvoutHandle << "] " << endl;
    mHdltvinHandle.close();
    mHdltvoutHandle.close();
    delete call_ret_mty2keep_fu_318;
    delete call_ret1_mty2keep_fu_324;
    delete call_ret2_mty2keep_fu_330;
    delete call_ret3_mty2keep_fu_336;
}

void lbus_fifo_read::thread_ap_clk_no_reset_() {
    if ( ap_rst.read() == ap_const_logic_1) {
        ap_CS_fsm = ap_ST_fsm_state1;
    } else {
        ap_CS_fsm = ap_NS_fsm.read();
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        keep1mask_V = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            keep1mask_V = xor_ln113_fu_549_p2.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        keep2mask_V = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            keep2mask_V = xor_ln114_fu_571_p2.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        keep3mask_V = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            keep3mask_V = xor_ln115_fu_593_p2.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        m_axis_databuf_V = ap_const_lv512_lc_1;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            m_axis_databuf_V = p_Result_1_fu_463_p5.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        m_axis_keepbuf_V_0 = ap_const_lv16_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            m_axis_keepbuf_V_0 = call_ret_mty2keep_fu_318_ap_return.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        m_axis_keepbuf_V_1 = ap_const_lv16_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            m_axis_keepbuf_V_1 = call_ret1_mty2keep_fu_324_ap_return.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        m_axis_keepbuf_V_2 = ap_const_lv16_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            m_axis_keepbuf_V_2 = call_ret2_mty2keep_fu_330_ap_return.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        m_axis_keepbuf_V_3 = ap_const_lv16_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            m_axis_keepbuf_V_3 = call_ret3_mty2keep_fu_336_ap_return.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        m_axis_lastbuf_V = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            m_axis_lastbuf_V = ret_V_20_fu_609_p2.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        m_axis_validbuf_V = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            m_axis_validbuf_V = output_valid_V.read();
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_data_V = ap_const_lv128_lc_1;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_data_V = ap_const_lv128_lc_1;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_data_V = trunc_ln321_1_fu_875_p1.read();
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_data_V_1 = ap_const_lv128_lc_1;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_data_V_1 = ap_const_lv128_lc_1;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_data_V_1 = lbus_fifo_pkt_end.read().range(263, 136);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_data_V_2 = ap_const_lv128_lc_1;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_data_V_2 = ap_const_lv128_lc_1;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_data_V_2 = lbus_fifo_pkt_end.read().range(399, 272);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_ena_V_1 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_ena_V_1 = ap_const_lv1_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_ena_V_1 = lbus_fifo_pkt_end.read().range(264, 264);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_ena_V_2 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_ena_V_2 = ap_const_lv1_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_ena_V_2 = lbus_fifo_pkt_end.read().range(400, 400);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_ena_V_s = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_ena_V_s = ap_const_lv1_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_ena_V_s = lbus_fifo_pkt_end.read().range(128, 128);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_eop_V_1 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_eop_V_1 = ap_const_lv1_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_eop_V_1 = lbus_fifo_pkt_end.read().range(266, 266);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_eop_V_2 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_eop_V_2 = ap_const_lv1_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_eop_V_2 = lbus_fifo_pkt_end.read().range(402, 402);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_eop_V_s = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_eop_V_s = ap_const_lv1_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_eop_V_s = lbus_fifo_pkt_end.read().range(130, 130);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_mty_V_1 = ap_const_lv4_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_mty_V_1 = ap_const_lv4_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_mty_V_1 = lbus_fifo_pkt_end.read().range(271, 268);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_mty_V_2 = ap_const_lv4_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_mty_V_2 = ap_const_lv4_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_mty_V_2 = lbus_fifo_pkt_end.read().range(407, 404);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        out_pktendbuf_mty_V_s = ap_const_lv4_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                out_pktendbuf_mty_V_s = ap_const_lv4_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                out_pktendbuf_mty_V_s = lbus_fifo_pkt_end.read().range(135, 132);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_data_V_0 = ap_const_lv128_lc_1;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_data_V_0 = out_pktendbuf_data_V.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_data_V_0 = trunc_ln321_fu_641_p1.read();
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_data_V_1 = ap_const_lv128_lc_1;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_data_V_1 = out_pktendbuf_data_V_1.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_data_V_1 = lbus_fifo.read().range(263, 136);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_data_V_2 = ap_const_lv128_lc_1;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_data_V_2 = out_pktendbuf_data_V_2.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_data_V_2 = lbus_fifo.read().range(399, 272);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_data_V_3 = ap_const_lv128_lc_1;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_data_V_3 = ap_const_lv128_lc_1;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_data_V_3 = lbus_fifo.read().range(535, 408);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_ena_V_0 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_ena_V_0 = ap_const_lv1_1;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_ena_V_0 = lbus_fifo.read().range(128, 128);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_ena_V_1 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_ena_V_1 = out_pktendbuf_ena_V_1.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_ena_V_1 = lbus_fifo.read().range(264, 264);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_ena_V_2 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_ena_V_2 = out_pktendbuf_ena_V_2.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_ena_V_2 = lbus_fifo.read().range(400, 400);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_ena_V_3 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_ena_V_3 = ap_const_lv1_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_ena_V_3 = lbus_fifo.read().range(536, 536);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_eop_V_0 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_eop_V_0 = out_pktendbuf_eop_V_s.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_eop_V_0 = lbus_fifo.read().range(130, 130);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_eop_V_1 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_eop_V_1 = out_pktendbuf_eop_V_1.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_eop_V_1 = lbus_fifo.read().range(266, 266);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_eop_V_2 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_eop_V_2 = out_pktendbuf_eop_V_2.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_eop_V_2 = lbus_fifo.read().range(402, 402);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_eop_V_3 = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_eop_V_3 = ap_const_lv1_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_eop_V_3 = lbus_fifo.read().range(538, 538);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_mty_V_0 = ap_const_lv4_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_mty_V_0 = out_pktendbuf_mty_V_s.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_mty_V_0 = lbus_fifo.read().range(135, 132);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_mty_V_1 = ap_const_lv4_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_mty_V_1 = out_pktendbuf_mty_V_1.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_mty_V_1 = lbus_fifo.read().range(271, 268);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_mty_V_2 = ap_const_lv4_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_mty_V_2 = out_pktendbuf_mty_V_2.read();
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_mty_V_2 = lbus_fifo.read().range(407, 404);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        outbuf_mty_V_3 = ap_const_lv4_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            if (esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) {
                outbuf_mty_V_3 = ap_const_lv4_0;
            } else if ((esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                        esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
                outbuf_mty_V_3 = lbus_fifo.read().range(543, 540);
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        output_valid_V = ap_const_lv1_0;
    } else {
        if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read())) {
            output_valid_V = ap_phi_mux_storemerge482_phi_fu_307_p6.read();
        }
    }
}

void lbus_fifo_read::thread_and_ln133_fu_635_p2() {
    and_ln133_fu_635_p2 = (lbus_fifo_valid_V.read() & lbus_fifo_pkt_end_valid_V.read());
}

void lbus_fifo_read::thread_ap_CS_fsm_state1() {
    ap_CS_fsm_state1 = ap_CS_fsm.read()[0];
}

void lbus_fifo_read::thread_ap_phi_mux_empty_phi_fu_294_p6() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
         esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
         esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read()))) {
        ap_phi_mux_empty_phi_fu_294_p6 = lbus_fifo_pkt_end.read().range(128, 128);
    } else if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
                 esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) || 
                (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
                 esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                 esl_seteq<1,1,1>(ap_const_lv1_0, and_ln133_fu_635_p2.read())))) {
        ap_phi_mux_empty_phi_fu_294_p6 = ap_const_lv1_0;
    } else {
        ap_phi_mux_empty_phi_fu_294_p6 = "X";
    }
}

void lbus_fifo_read::thread_ap_phi_mux_storemerge482_phi_fu_307_p6() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
         esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
         esl_seteq<1,1,1>(ap_const_lv1_0, and_ln133_fu_635_p2.read()))) {
        ap_phi_mux_storemerge482_phi_fu_307_p6 = ap_const_lv1_0;
    } else if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
                 esl_seteq<1,1,1>(out_pktendbuf_ena_V_1_load_fu_631_p1.read(), ap_const_lv1_1)) || 
                (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
                 esl_seteq<1,1,1>(ap_const_lv1_0, out_pktendbuf_ena_V_1_load_fu_631_p1.read()) && 
                 esl_seteq<1,1,1>(ap_const_lv1_1, and_ln133_fu_635_p2.read())))) {
        ap_phi_mux_storemerge482_phi_fu_307_p6 = ap_const_lv1_1;
    } else {
        ap_phi_mux_storemerge482_phi_fu_307_p6 = "X";
    }
}

void lbus_fifo_read::thread_error_V() {
    error_V = (lbus_fifo_empty_V.read() ^ lbus_fifo_pkt_end_empty_V.read());
}

void lbus_fifo_read::thread_lbus_fifo_pkt_end_re_V() {
    lbus_fifo_pkt_end_re_V = xor_ln146_fu_1280_p2.read();
}

void lbus_fifo_read::thread_lbus_fifo_re_V() {
    lbus_fifo_re_V = xor_ln146_fu_1280_p2.read();
}

void lbus_fifo_read::thread_m_axis_data_V() {
    m_axis_data_V = m_axis_databuf_V.read();
}

void lbus_fifo_read::thread_m_axis_keep_V() {
    m_axis_keep_V = esl_concat<48,16>(esl_concat<32,16>(esl_concat<16,16>(m_axis_keepbuf_V_0.read(), ret_V_21_fu_370_p2.read()), ret_V_22_fu_392_p2.read()), ret_V_23_fu_414_p2.read());
}

void lbus_fifo_read::thread_m_axis_last_V() {
    m_axis_last_V = m_axis_lastbuf_V.read();
}

void lbus_fifo_read::thread_m_axis_valid_V() {
    m_axis_valid_V = m_axis_validbuf_V.read();
}

void lbus_fifo_read::thread_or_ln146_1_fu_1274_p2() {
    or_ln146_1_fu_1274_p2 = (or_ln146_fu_1268_p2.read() | lbus_fifo_empty_V.read());
}

void lbus_fifo_read::thread_or_ln146_fu_1268_p2() {
    or_ln146_fu_1268_p2 = (ap_phi_mux_empty_phi_fu_294_p6.read() | lbus_fifo_pkt_end_empty_V.read());
}

void lbus_fifo_read::thread_out_pktendbuf_ena_V_1_load_fu_631_p1() {
    out_pktendbuf_ena_V_1_load_fu_631_p1 = out_pktendbuf_ena_V_s.read();
}

void lbus_fifo_read::thread_p_Result_1_fu_463_p5() {
    p_Result_1_fu_463_p5 = esl_concat<384,128>(esl_concat<256,128>(esl_concat<128,128>(outbuf_data_V_0.read(), outbuf_data_V_1.read()), outbuf_data_V_2.read()), outbuf_data_V_3.read());
}

void lbus_fifo_read::thread_ret_V_20_fu_609_p2() {
    ret_V_20_fu_609_p2 = (outbuf_eop_V_3.read() | ret_V_25_fu_587_p2.read());
}

void lbus_fifo_read::thread_ret_V_21_fu_370_p2() {
    ret_V_21_fu_370_p2 = (rhs_V_fu_362_p3.read() & m_axis_keepbuf_V_1.read());
}

void lbus_fifo_read::thread_ret_V_22_fu_392_p2() {
    ret_V_22_fu_392_p2 = (rhs_V_14_fu_384_p3.read() & m_axis_keepbuf_V_2.read());
}

void lbus_fifo_read::thread_ret_V_23_fu_414_p2() {
    ret_V_23_fu_414_p2 = (rhs_V_15_fu_406_p3.read() & m_axis_keepbuf_V_3.read());
}

void lbus_fifo_read::thread_ret_V_24_fu_565_p2() {
    ret_V_24_fu_565_p2 = (outbuf_eop_V_0.read() | outbuf_eop_V_1.read());
}

void lbus_fifo_read::thread_ret_V_25_fu_587_p2() {
    ret_V_25_fu_587_p2 = (outbuf_eop_V_2.read() | ret_V_24_fu_565_p2.read());
}

void lbus_fifo_read::thread_rhs_V_14_fu_384_p3() {
    rhs_V_14_fu_384_p3 = (!keep2mask_V.read()[0].is_01())? sc_lv<16>(): ((keep2mask_V.read()[0].to_bool())? ap_const_lv16_FFFF: ap_const_lv16_0);
}

void lbus_fifo_read::thread_rhs_V_15_fu_406_p3() {
    rhs_V_15_fu_406_p3 = (!keep3mask_V.read()[0].is_01())? sc_lv<16>(): ((keep3mask_V.read()[0].to_bool())? ap_const_lv16_FFFF: ap_const_lv16_0);
}

void lbus_fifo_read::thread_rhs_V_fu_362_p3() {
    rhs_V_fu_362_p3 = (!keep1mask_V.read()[0].is_01())? sc_lv<16>(): ((keep1mask_V.read()[0].to_bool())? ap_const_lv16_FFFF: ap_const_lv16_0);
}

void lbus_fifo_read::thread_trunc_ln321_1_fu_875_p1() {
    trunc_ln321_1_fu_875_p1 = lbus_fifo_pkt_end.read().range(128-1, 0);
}

void lbus_fifo_read::thread_trunc_ln321_fu_641_p1() {
    trunc_ln321_fu_641_p1 = lbus_fifo.read().range(128-1, 0);
}

void lbus_fifo_read::thread_xor_ln113_fu_549_p2() {
    xor_ln113_fu_549_p2 = (outbuf_eop_V_0.read() ^ ap_const_lv1_1);
}

void lbus_fifo_read::thread_xor_ln114_fu_571_p2() {
    xor_ln114_fu_571_p2 = (ret_V_24_fu_565_p2.read() ^ ap_const_lv1_1);
}

void lbus_fifo_read::thread_xor_ln115_fu_593_p2() {
    xor_ln115_fu_593_p2 = (ret_V_25_fu_587_p2.read() ^ ap_const_lv1_1);
}

void lbus_fifo_read::thread_xor_ln146_fu_1280_p2() {
    xor_ln146_fu_1280_p2 = (or_ln146_1_fu_1274_p2.read() ^ ap_const_lv1_1);
}

void lbus_fifo_read::thread_ap_NS_fsm() {
    switch (ap_CS_fsm.read().to_uint64()) {
        case 1 : 
            ap_NS_fsm = ap_ST_fsm_state1;
            break;
        default : 
            ap_NS_fsm = "X";
            break;
    }
}

void lbus_fifo_read::thread_hdltv_gen() {
    const char* dump_tv = std::getenv("AP_WRITE_TV");
    if (!(dump_tv && string(dump_tv) == "on")) return;

    wait();

    mHdltvinHandle << "[ " << endl;
    mHdltvoutHandle << "[ " << endl;
    int ap_cycleNo = 0;
    while (1) {
        wait();
        const char* mComma = ap_cycleNo == 0 ? " " : ", " ;
        mHdltvinHandle << mComma << "{"  <<  " \"ap_rst\" :  \"" << ap_rst.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"lbus_fifo\" :  \"" << lbus_fifo.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"lbus_fifo_pkt_end\" :  \"" << lbus_fifo_pkt_end.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"lbus_fifo_empty_V\" :  \"" << lbus_fifo_empty_V.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"lbus_fifo_pkt_end_empty_V\" :  \"" << lbus_fifo_pkt_end_empty_V.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"lbus_fifo_valid_V\" :  \"" << lbus_fifo_valid_V.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"lbus_fifo_pkt_end_valid_V\" :  \"" << lbus_fifo_pkt_end_valid_V.read() << "\" ";
        mHdltvoutHandle << mComma << "{"  <<  " \"lbus_fifo_re_V\" :  \"" << lbus_fifo_re_V.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"lbus_fifo_pkt_end_re_V\" :  \"" << lbus_fifo_pkt_end_re_V.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"error_V\" :  \"" << error_V.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"m_axis_data_V\" :  \"" << m_axis_data_V.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"m_axis_keep_V\" :  \"" << m_axis_keep_V.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"m_axis_last_V\" :  \"" << m_axis_last_V.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"m_axis_valid_V\" :  \"" << m_axis_valid_V.read() << "\" ";
        mHdltvinHandle << "}" << std::endl;
        mHdltvoutHandle << "}" << std::endl;
        ap_cycleNo++;
    }
}

}

